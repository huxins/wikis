(window.webpackJsonp=window.webpackJsonp||[]).push([[323],{602:function(t,e,a){"use strict";a.r(e);var s=a(14),r=Object(s.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"configure"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#configure"}},[t._v("#")]),t._v(" Configure")]),t._v(" "),e("h2",{attrs:{id:"配置url映射规则"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置url映射规则"}},[t._v("#")]),t._v(" 配置URL映射规则")]),t._v(" "),e("p",[e("code",[t._v("records.config")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("CONFIG proxy.config.http.server_ports STRING 80 443:ssl\nCONFIG proxy.config.url_remap.pristine_host_hdr INT 1\n")])])]),e("p",[e("code",[t._v("remap.config")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("redirect http://test/ https://test/\nmap https://test/ https://hostloc.com/\nreverse_map https://hostloc.com/ https://test/\nmap / https://hostloc.com/\n")])])]),e("h2",{attrs:{id:"配置缓存规则"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置缓存规则"}},[t._v("#")]),t._v(" 配置缓存规则")]),t._v(" "),e("p",[e("code",[t._v("records.config")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("CONFIG proxy.config.http.cache.http INT 1\nCONFIG proxy.config.http.cache.ignore_client_cc_max_age INT 1\nCONFIG proxy.config.http.normalize_ae_gzip INT 1\nCONFIG proxy.config.http.cache.cache_responses_to_cookies INT 1\nCONFIG proxy.config.http.cache.cache_urls_that_look_dynamic INT 1\nCONFIG proxy.config.http.cache.when_to_revalidate INT 0\nCONFIG proxy.config.http.cache.required_headers INT 2\nCONFIG proxy.config.http.cache.ignore_client_no_cache INT 1\n")])])]),e("p",[e("code",[t._v("storage.config")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("var/trafficserver 2048M\n")])])]),e("h2",{attrs:{id:"配置ssl证书"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置ssl证书"}},[t._v("#")]),t._v(" 配置SSL证书")]),t._v(" "),e("p",[e("code",[t._v("records.config")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("CONFIG proxy.config.ssl.server.cert.path STRING /etc/trafficserver/ssl/\nCONFIG proxy.config.ssl.server.private_key.path STRING /etc/trafficserver/ssl/\n")])])]),e("p",[e("code",[t._v("ssl_multicert.config")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("dest_ip=* ssl_cert_name=test.crt ssl_key_name=test.key\n")])])]),e("h2",{attrs:{id:"运行-traffic-server"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#运行-traffic-server"}},[t._v("#")]),t._v(" 运行 Traffic Server")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("$ ldconfig\n$ trafficserver start\n$ traffic_ctl config reload\n")])])])])}),[],!1,null,null,null);e.default=r.exports}}]);