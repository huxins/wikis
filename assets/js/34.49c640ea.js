(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{315:function(s,a,t){"use strict";t.r(a);var n=t(14),e=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"nfs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nfs"}},[s._v("#")]),s._v(" NFS")]),s._v(" "),a("h2",{attrs:{id:"服务端"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#服务端"}},[s._v("#")]),s._v(" 服务端")]),s._v(" "),a("h3",{attrs:{id:"安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://qizhanming.com/blog/2018/08/08/how-to-install-nfs-on-centos-7",target:"_blank",rel:"noopener noreferrer"}},[s._v("CentOS 7 下 yum 安装和配置 NFS"),a("OutboundLink")],1)])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Centos 7")]),s._v("\nyum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" nfs-utils\nsystemctl start rpcbind\nsystemctl start nfs\n")])])]),a("h3",{attrs:{id:"配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置"}},[s._v("#")]),s._v(" 配置")]),s._v(" "),a("p",[s._v("配置服务端共享目录")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vi /etc/exports")]),s._v("\n/data/    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".0.0/24"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("rw,sync,no_root_squash,no_all_squash"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),a("ol",[a("li",[a("code",[s._v("/data")]),s._v(": 共享目录位置。")]),s._v(" "),a("li",[a("code",[s._v("192.168.0.0/24")]),s._v(": 客户端 IP 范围，"),a("code",[s._v("*")]),s._v(" 代表所有，即没有限制。")]),s._v(" "),a("li",[a("code",[s._v("rw")]),s._v(": 权限设置，可读可写。")]),s._v(" "),a("li",[a("code",[s._v("sync")]),s._v(": 同步共享目录。")]),s._v(" "),a("li",[a("code",[s._v("no_root_squash")]),s._v(": 可以使用 root 授权。")]),s._v(" "),a("li",[a("code",[s._v("no_all_squash")]),s._v(": 可以使用普通用户授权。")])]),s._v(" "),a("p",[s._v("检查本地共享目录")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("showmount "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-e")]),s._v(" localhost\n")])])]),a("h2",{attrs:{id:"客户端"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#客户端"}},[s._v("#")]),s._v(" 客户端")]),s._v(" "),a("h3",{attrs:{id:"安装-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装-2"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),a("p",[s._v("CentOS 7")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" nfs-utils\nsystemctl start rpcbind\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查服务端的共享目录")]),s._v("\nshowmount "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-e")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".0.110\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在客户端创建目录")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" /data\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 挂载")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mount")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-t")]),s._v(" nfs "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".0.101:/data /data\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 自动挂载")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/fstab\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".0.110:/data /data nfs defaults "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重新加载 systemctl")]),s._v("\nsystemctl daemon-reload\n")])])])])}),[],!1,null,null,null);a.default=e.exports}}]);